{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$(),\n  _s9 = $RefreshSig$();\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport axios from 'axios';\n\n// Define types for your data structures\n\n// API base URL\nconst API_BASE_URL = 'http://localhost:8000/api'; // Adjust to your Laravel server\n\n// Hook to get all menus\nexport const useMenus = () => {\n  _s();\n  return useQuery({\n    queryKey: ['menus'],\n    queryFn: () => axios.get(`${API_BASE_URL}/menus`).then(res => res.data)\n  });\n};\n\n// Hook to get a single menu by ID\n_s(useMenus, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nexport const useMenu = id => {\n  _s2();\n  return useQuery({\n    queryKey: ['menu', id],\n    queryFn: () => axios.get(`${API_BASE_URL}/menus/${id}`).then(res => res.data)\n  });\n};\n\n// Hook to add a new menu\n// Hook to add a new menu\n_s2(useMenu, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nexport const useAddMenu = () => {\n  _s3();\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: newMenu => axios.post(`${API_BASE_URL}/menus`, newMenu).then(res => res.data),\n    onMutate: () => {\n      // This function is triggered when the mutation is initiated\n      console.log(\"Creating menu...\");\n    },\n    onSuccess: () => {\n      // Invalidate the menu queries to refetch the updated list\n      queryClient.invalidateQueries({\n        queryKey: ['menus']\n      });\n      console.log(\"Menu created successfully!\");\n    },\n    onError: error => {\n      // Handle the error\n      console.error(\"Error creating menu:\", error.message);\n    }\n  });\n};\n\n// Hook to update an existing menu\n_s3(useAddMenu, \"YK0wzM21ECnncaq5SECwU+/SVdQ=\", false, function () {\n  return [useQueryClient, useMutation];\n});\nexport const useUpdateMenu = id => {\n  _s4();\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: updatedMenu => axios.put(`${API_BASE_URL}/menus/${id}`, updatedMenu).then(res => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['menus']\n      });\n      queryClient.invalidateQueries({\n        queryKey: ['menu', id]\n      });\n    }\n  });\n};\n\n// Hook to delete a menu\n_s4(useUpdateMenu, \"YK0wzM21ECnncaq5SECwU+/SVdQ=\", false, function () {\n  return [useQueryClient, useMutation];\n});\nexport const useDeleteMenu = id => {\n  _s5();\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: () => axios.delete(`${API_BASE_URL}/menus/${id}`).then(res => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['menus']\n      });\n    }\n  });\n};\n\n// Hook to get all items for a specific menu\n_s5(useDeleteMenu, \"YK0wzM21ECnncaq5SECwU+/SVdQ=\", false, function () {\n  return [useQueryClient, useMutation];\n});\nexport const useMenuItems = menuId => {\n  _s6();\n  return useQuery({\n    queryKey: ['menuItems', menuId],\n    queryFn: () => axios.get(`${API_BASE_URL}/menus/${menuId}/items`).then(res => res.data)\n  });\n};\n\n// Hook to add a new menu item\n_s6(useMenuItems, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nexport const useAddMenuItem = menuId => {\n  _s7();\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: newItem => axios.post(`${API_BASE_URL}/menus/${menuId}/items`, newItem).then(res => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['menuItems', menuId]\n      });\n    }\n  });\n};\n\n// Hook to update an existing menu item\n_s7(useAddMenuItem, \"YK0wzM21ECnncaq5SECwU+/SVdQ=\", false, function () {\n  return [useQueryClient, useMutation];\n});\nexport const useUpdateMenuItem = (id, menuId) => {\n  _s8();\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: updatedItem => axios.put(`${API_BASE_URL}/menu-items/${id}`, updatedItem).then(res => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['menuItems', menuId]\n      });\n    }\n  });\n};\n\n// Hook to delete a menu item\n_s8(useUpdateMenuItem, \"YK0wzM21ECnncaq5SECwU+/SVdQ=\", false, function () {\n  return [useQueryClient, useMutation];\n});\nexport const useDeleteMenuItem = (id, menuId) => {\n  _s9();\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: () => axios.delete(`${API_BASE_URL}/menu-items/${id}`).then(res => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['menuItems', menuId]\n      });\n    }\n  });\n};\n_s9(useDeleteMenuItem, \"YK0wzM21ECnncaq5SECwU+/SVdQ=\", false, function () {\n  return [useQueryClient, useMutation];\n});","map":{"version":3,"names":["useQuery","useMutation","useQueryClient","axios","API_BASE_URL","useMenus","_s","queryKey","queryFn","get","then","res","data","useMenu","id","_s2","useAddMenu","_s3","queryClient","mutationFn","newMenu","post","onMutate","console","log","onSuccess","invalidateQueries","onError","error","message","useUpdateMenu","_s4","updatedMenu","put","useDeleteMenu","_s5","delete","useMenuItems","menuId","_s6","useAddMenuItem","_s7","newItem","useUpdateMenuItem","_s8","updatedItem","useDeleteMenuItem","_s9"],"sources":["/Users/samuelokpe/Documents/GitHub/menu-management-system/src/hooks/apiHooks.ts"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport axios from 'axios';\n\n// Define types for your data structures\ninterface Menu {\n  id: string;\n  name: string;\n  // Add more fields as needed\n}\n\nexport interface MenuItem {\n  id: string;\n  menuId: string;\n  name: string;\n  // Add more fields as needed\n}\n\n// API base URL\nconst API_BASE_URL = 'http://localhost:8000/api'; // Adjust to your Laravel server\n\n// Hook to get all menus\nexport const useMenus = () => {\n  return useQuery<Menu[], Error>({\n    queryKey: ['menus'],\n    queryFn: () => axios.get<Menu[]>(`${API_BASE_URL}/menus`).then(res => res.data)\n  });\n};\n\n// Hook to get a single menu by ID\nexport const useMenu = (id: string) => {\n  return useQuery<Menu, Error>({\n    queryKey: ['menu', id],\n    queryFn: () => axios.get<Menu>(`${API_BASE_URL}/menus/${id}`).then((res) => res.data)\n  });\n};\n\n// Hook to add a new menu\n// Hook to add a new menu\nexport const useAddMenu = () => {\n    const queryClient = useQueryClient();\n  \n    return useMutation<Menu, Error, Omit<Menu, 'id'>>({\n      mutationFn: (newMenu: Omit<Menu, 'id'>) => \n        axios.post(`${API_BASE_URL}/menus`, newMenu).then((res) => res.data),\n      onMutate: () => {\n        // This function is triggered when the mutation is initiated\n        console.log(\"Creating menu...\");\n      },\n      onSuccess: () => {\n        // Invalidate the menu queries to refetch the updated list\n        queryClient.invalidateQueries({ queryKey: ['menus'] });\n        console.log(\"Menu created successfully!\");\n      },\n      onError: (error: Error) => {\n        // Handle the error\n        console.error(\"Error creating menu:\", error.message);\n      },\n    });\n  };\n\n  \n// Hook to update an existing menu\nexport const useUpdateMenu = (id: string) => {\n  const queryClient = useQueryClient();\n  return useMutation<Menu, Error, Partial<Menu>>({\n    mutationFn: (updatedMenu: Partial<Menu>) =>\n      axios.put(`${API_BASE_URL}/menus/${id}`, updatedMenu).then((res) => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['menus'] });\n      queryClient.invalidateQueries({ queryKey: ['menu', id] });\n    },\n  });\n};\n\n// Hook to delete a menu\nexport const useDeleteMenu = (id: string) => {\n  const queryClient = useQueryClient();\n  return useMutation<void, Error>({\n    mutationFn: () => axios.delete(`${API_BASE_URL}/menus/${id}`).then((res) => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['menus'] });\n    },\n  });\n};\n\n// Hook to get all items for a specific menu\nexport const useMenuItems = (menuId: string) => {\n  return useQuery<MenuItem[], Error>({\n    queryKey: ['menuItems', menuId],\n    queryFn: () => axios.get<MenuItem[]>(`${API_BASE_URL}/menus/${menuId}/items`).then((res) => res.data)\n  });\n};\n\n// Hook to add a new menu item\nexport const useAddMenuItem = (menuId: string) => {\n  const queryClient = useQueryClient();\n  return useMutation<MenuItem, Error, Omit<MenuItem, 'id'>>({\n    mutationFn: (newItem: Omit<MenuItem, 'id'>) =>\n      axios.post(`${API_BASE_URL}/menus/${menuId}/items`, newItem).then((res) => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['menuItems', menuId] });\n    },\n  });\n};\n\n// Hook to update an existing menu item\nexport const useUpdateMenuItem = (id: string, menuId: string) => {\n  const queryClient = useQueryClient();\n  return useMutation<MenuItem, Error, Partial<MenuItem>>({\n    mutationFn: (updatedItem: Partial<MenuItem>) =>\n      axios.put(`${API_BASE_URL}/menu-items/${id}`, updatedItem).then((res) => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['menuItems', menuId] });\n    },\n  });\n};\n\n// Hook to delete a menu item\nexport const useDeleteMenuItem = (id: string, menuId: string) => {\n  const queryClient = useQueryClient();\n  return useMutation<void, Error>({\n    mutationFn: () => axios.delete(`${API_BASE_URL}/menu-items/${id}`).then((res) => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['menuItems', menuId] });\n    },\n  });\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}