{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$(),\n  _s9 = $RefreshSig$();\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport axios from 'axios';\n\n// Define types for your data structures\n\n// API base URL\nconst API_BASE_URL = 'http://127.0.0.1:8000/api'; // Adjust to your Laravel server\n\n// Hook to get all menus\nexport const useMenus = () => {\n  _s();\n  return useQuery({\n    queryKey: ['menus'],\n    queryFn: () => axios.get(`${API_BASE_URL}/menus`).then(res => res.data)\n  });\n};\n\n// Hook to get a single menu by ID\n_s(useMenus, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nexport const useMenu = id => {\n  _s2();\n  return useQuery({\n    queryKey: ['menu', id],\n    queryFn: () => axios.get(`${API_BASE_URL}/menus/${id}`).then(res => res.data)\n  });\n};\n\n// Hook to add a new menu\n_s2(useMenu, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nexport const useAddMenu = () => {\n  _s3();\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: newMenu => axios.post(`${API_BASE_URL}/menus`, newMenu).then(res => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['menus']\n      });\n    }\n  });\n};\n\n// Hook to update an existing menu\n_s3(useAddMenu, \"YK0wzM21ECnncaq5SECwU+/SVdQ=\", false, function () {\n  return [useQueryClient, useMutation];\n});\nexport const useUpdateMenu = id => {\n  _s4();\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: updatedMenu => axios.put(`${API_BASE_URL}/menus/${id}`, updatedMenu).then(res => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['menus']\n      });\n      queryClient.invalidateQueries({\n        queryKey: ['menu', id]\n      });\n    }\n  });\n};\n\n// Hook to delete a menu\n_s4(useUpdateMenu, \"YK0wzM21ECnncaq5SECwU+/SVdQ=\", false, function () {\n  return [useQueryClient, useMutation];\n});\nexport const useDeleteMenu = id => {\n  _s5();\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: () => axios.delete(`${API_BASE_URL}/menus/${id}`).then(res => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['menus']\n      });\n    }\n  });\n};\n\n// Hook to get all items for a specific menu\n_s5(useDeleteMenu, \"YK0wzM21ECnncaq5SECwU+/SVdQ=\", false, function () {\n  return [useQueryClient, useMutation];\n});\nexport const useMenuItems = menuId => {\n  _s6();\n  return useQuery({\n    queryKey: ['menuItems', menuId],\n    queryFn: () => axios.get(`${API_BASE_URL}/menus/${menuId}/items`).then(res => res.data)\n  });\n};\n\n// Hook to add a new menu item\n_s6(useMenuItems, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nexport const useAddMenuItem = menuId => {\n  _s7();\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: newItem => axios.post(`${API_BASE_URL}/menus/${menuId}/items`, newItem).then(res => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['menuItems', menuId]\n      });\n    }\n  });\n};\n\n// Hook to update an existing menu item\n_s7(useAddMenuItem, \"YK0wzM21ECnncaq5SECwU+/SVdQ=\", false, function () {\n  return [useQueryClient, useMutation];\n});\nexport const useUpdateMenuItem = (id, menuId) => {\n  _s8();\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: updatedItem => axios.put(`${API_BASE_URL}/menu-items/${id}`, updatedItem).then(res => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['menuItems', menuId]\n      });\n    }\n  });\n};\n\n// Hook to delete a menu item\n_s8(useUpdateMenuItem, \"YK0wzM21ECnncaq5SECwU+/SVdQ=\", false, function () {\n  return [useQueryClient, useMutation];\n});\nexport const useDeleteMenuItem = (id, menuId) => {\n  _s9();\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: () => axios.delete(`${API_BASE_URL}/menu-items/${id}`).then(res => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['menuItems', menuId]\n      });\n    }\n  });\n};\n_s9(useDeleteMenuItem, \"YK0wzM21ECnncaq5SECwU+/SVdQ=\", false, function () {\n  return [useQueryClient, useMutation];\n});","map":{"version":3,"names":["useQuery","useMutation","useQueryClient","axios","API_BASE_URL","useMenus","_s","queryKey","queryFn","get","then","res","data","useMenu","id","_s2","useAddMenu","_s3","queryClient","mutationFn","newMenu","post","onSuccess","invalidateQueries","useUpdateMenu","_s4","updatedMenu","put","useDeleteMenu","_s5","delete","useMenuItems","menuId","_s6","useAddMenuItem","_s7","newItem","useUpdateMenuItem","_s8","updatedItem","useDeleteMenuItem","_s9"],"sources":["/Users/samuelokpe/Documents/GitHub/menu_management_frontend/src/hooks/apiHooks.ts"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport axios from 'axios';\n\n// Define types for your data structures\ninterface Menu {\n  id: string;\n  name: string;\n  // Add more fields as needed\n}\n\nexport interface MenuItem {\n  id: string;\n  menu_id: string;\n  name: string ;\n  position: number;\n  parent_id: any;\n  children?: MenuItem[];\n  // Add more fields as needed\n}\n\n// API base URL\nconst API_BASE_URL = 'http://127.0.0.1:8000/api'; // Adjust to your Laravel server\n\n// Hook to get all menus\nexport const useMenus = () => {\n  return useQuery<Menu[], Error>({\n    queryKey: ['menus'],\n    queryFn: () => axios.get<Menu[]>(`${API_BASE_URL}/menus`).then(res => res.data)\n  });\n};\n\n// Hook to get a single menu by ID\nexport const useMenu = (id: string) => {\n  return useQuery<Menu, Error>({\n    queryKey: ['menu', id],\n    queryFn: () => axios.get<Menu>(`${API_BASE_URL}/menus/${id}`).then((res) => res.data)\n  });\n};\n\n// Hook to add a new menu\nexport const useAddMenu = () => {\n  const queryClient = useQueryClient();\n  return useMutation<Menu, Error, Omit<Menu, 'id'>>({\n    mutationFn: (newMenu: Omit<Menu, 'id'>) => \n      axios.post(`${API_BASE_URL}/menus`, newMenu).then((res) => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['menus'] });\n    },\n  });\n};\n\n// Hook to update an existing menu\nexport const useUpdateMenu = (id: string) => {\n  const queryClient = useQueryClient();\n  return useMutation<Menu, Error, Partial<Menu>>({\n    mutationFn: (updatedMenu: Partial<Menu>) =>\n      axios.put(`${API_BASE_URL}/menus/${id}`, updatedMenu).then((res) => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['menus'] });\n      queryClient.invalidateQueries({ queryKey: ['menu', id] });\n    },\n  });\n};\n\n// Hook to delete a menu\nexport const useDeleteMenu = (id: string) => {\n  const queryClient = useQueryClient();\n  return useMutation<void, Error>({\n    mutationFn: () => axios.delete(`${API_BASE_URL}/menus/${id}`).then((res) => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['menus'] });\n    },\n  });\n};\n\n// Hook to get all items for a specific menu\nexport const useMenuItems = (menuId: string) => {\n  return useQuery<MenuItem[], Error>({\n    queryKey: ['menuItems', menuId],\n    queryFn: () => axios.get<MenuItem[]>(`${API_BASE_URL}/menus/${menuId}/items`).then((res) => res.data)\n  });\n};\n\n// Hook to add a new menu item\nexport const useAddMenuItem = (menuId: string) => {\n  const queryClient = useQueryClient();\n  return useMutation<MenuItem, Error, Omit<MenuItem, 'id'>>({\n    mutationFn: (newItem: Omit<MenuItem, 'id'>) =>\n      axios.post(`${API_BASE_URL}/menus/${menuId}/items`, newItem).then((res) => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['menuItems', menuId] });\n    },\n  });\n};\n\n// Hook to update an existing menu item\nexport const useUpdateMenuItem = (id: string | null, menuId: string) => {\n  const queryClient = useQueryClient();\n  return useMutation<MenuItem, Error, Partial<MenuItem>>({\n    mutationFn: (updatedItem: Partial<MenuItem>) =>\n      axios.put(`${API_BASE_URL}/menu-items/${id}`, updatedItem).then((res) => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['menuItems', menuId] });\n    },\n  });\n};\n\n// Hook to delete a menu item\nexport const useDeleteMenuItem = (id: string | null, menuId: string) => {\n  const queryClient = useQueryClient();\n  return useMutation<void, Error>({\n    mutationFn: () => axios.delete(`${API_BASE_URL}/menu-items/${id}`).then((res) => res.data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['menuItems', menuId] });\n    },\n  });\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}